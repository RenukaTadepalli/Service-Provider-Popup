<div class="caller-container1" *ngIf="activeTab === 'caller'">
  <div class="caller-section">
    <form [formGroup]="callerForm" class="caller-form">
      <div class="form-client">
        <div class="form-group">
          <label>Client</label>
          <ng-select
            [items]="client"
            bindLabel="ClientName"
            bindValue="ClientId"
            formControlName="client"
            [clearable]="true"
            [searchable]="true"
            [closeOnSelect]="true"
          >
            <ng-template ng-option-tmp let-item="item">
              <div class="option-box">{{ item.ClientName }}</div>
            </ng-template>
          </ng-select>
        </div>

        <div class="form-group">
          <label>Service</label>
          <ng-select
            [items]="services"
            bindLabel="Description"
            bindValue="ServiceId"
            formControlName="serviceType"
            [clearable]="true"
            [searchable]="true"
            [closeOnSelect]="true"
          >
            <ng-template ng-option-tmp let-item="item">
              <div class="option-box">{{ item.Description }}</div>
            </ng-template>
          </ng-select>
        </div>

        <div class="form-group">
          <label>Preferred Language</label>
          <ng-select
            [items]="languages"
            bindLabel=""
            bindValue=""
            formControlName="language"
            [clearable]="true"
            [searchable]="true"
            [closeOnSelect]="true"
          >
            <ng-template ng-option-tmp let-item="item">
              <div class="option-box">{{ item }}</div>
            </ng-template>
          </ng-select>
        </div>
      </div>

      <div formArrayName="contacts">
        <div
          *ngFor="let contact of contacts.controls; let i = index"
          [formGroupName]="i"
          class="form-group1"
        >
          <div>
            <label
              [ngStyle]="{ visibility: i === 0 ? 'visible' : 'hidden' }"
              class="caller-deatils-label"
              >Caller Details:</label
            >
          </div>

          <div class="form-firstname">
            <div class="form-row">
              <div class="form-groupp1">
                <label *ngIf="i === 0">First Name</label>
                <input
                  type="text"
                  formControlName="firstName"
                  placeholder="First Name"
                />
              </div>
            </div>

            <div class="form-row">
              <div class="form-groupp1">
                <label *ngIf="i === 0">Surname</label>
                <input
                  type="text"
                  formControlName="surname"
                  placeholder="Surname"
                />
              </div>
            </div>

            <div class="form-row">
              <div class="form-groupp1">
                <label *ngIf="i === 0">Contact Number</label>
                <ngx-intl-tel-input
                  [cssClass]="'custom'"
                  [preferredCountries]="[
                    CountryISO.SouthAfrica,
                    CountryISO.UnitedStates
                  ]"
                  [enablePlaceholder]="true"
                  [searchCountryFlag]="true"
                  [separateDialCode]="true"
                  [searchCountryField]="searchFields"
                  [selectFirstCountry]="true"
                  [selectedCountryISO]="CountryISO.SouthAfrica"
                  [phoneValidation]="true"
                  formControlName="callbackNumber"
                ></ngx-intl-tel-input>
              </div>
            </div>

            <div class="form-row">
              <div class="form-groupp1">
                <label *ngIf="i === 0">Relationship</label>
                <ng-select
                  [items]="relationships"
                  bindLabel="label"
                  bindValue="value"
                  formControlName="relationship"
                  [clearable]="true"
                  [searchable]="true"
                  [closeOnSelect]="true"
                  [placeholder]="'Select Relationship'"
                >
                  <ng-template ng-option-tmp let-item="item">
                    <div class="option-box">{{ item.label }}</div>
                  </ng-template>
                </ng-select>
              </div>
            </div>

            <div class="form-caller-details">
              <button
                type="button"
                class="add-btn"
                (click)="addContactRow()"
                *ngIf="i === 0"
              >
                +
              </button>
              <button
                type="button"
                class="rem-btn"
                (click)="removeContactRow(i)"
                *ngIf="i > 0"
              >
                <i class="fas fa-trash-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="agent">
        <div class="form-roww">
          <div class="form-group-row">
            <label for="on_label">Agent</label>

            <ng-select
              [items]="agentList"
              bindLabel="name"
              bindValue="id"
              formControlName="agent"
              [searchable]="true"
              [clearable]="true"
              [closeOnSelect]="true"
              [placeholder]="'Select Agent'"
              class="custom-select-with-icon"
            >
            </ng-select>
          </div>
        </div>

        <div class="form-roww">
          <div class="form-group-date">
            <label for="on_label">Call Open Date</label>
            <input type="date" placeholder="Call open Date" />
          </div>
        </div>
      </div>

      <div class="form-groupp full-width">
        <p class="label">
          Did you get consent to obtain the caller's personal information and
          explained what it will be used for?
        </p>
        <div class="radio-groupp">
          <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="bold" class="yes-toggle"
              >Yes</mat-button-toggle
            >
            <mat-button-toggle value="italic" class="no-toggle"
              >No</mat-button-toggle
            >
            <mat-button-toggle value="underline" class="na-toggle"
              >NA</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div>
      </div>

      <div class="form-grouppp">
        <label class="labell1">Caller is Policy Holder</label>
        <div class="radio-group">
          <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="bold" class="yes-toggle"
              >Yes</mat-button-toggle
            >

            <mat-button-toggle value="underline" class="no-toggle"
              >No</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div>
      </div>
      <div class="form-groupppp">
        <label class="labell">Case Reference Number Given To Caller? </label>
        <div class="radio-group">
          <mat-button-toggle-group name="fontStyle" aria-label="Font Style">
            <mat-button-toggle value="bold" class="yes-toggle"
              >Yes</mat-button-toggle
            >

            <mat-button-toggle value="underline" class="no-toggle"
              >No</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div>
      </div>
    </form>
  </div>
</div>
<br />

<div>
  <app-service-details-accordion> </app-service-details-accordion>
</div>
